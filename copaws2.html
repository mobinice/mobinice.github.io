<!doctype html>
<html lang="zh-TW" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åœ–ç‰‡æ—¥è¨˜</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Noto Sans TC', sans-serif;
    }
    
    .phone-frame {
      width: 390px;
      height: 844px;
      max-width: 100%;
      max-height: 100%;
    }
    
    .tab-active {
      color: #6366f1;
      border-bottom: 3px solid #6366f1;
    }
    
    .calendar-day {
      transition: all 0.2s ease;
    }
    
    .calendar-day:hover {
      background: #eef2ff;
      transform: scale(1.05);
    }
    
    .calendar-day.has-entry {
      background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
      color: #3730a3;
      font-weight: 600;
      position: relative;
      overflow: hidden;
    }
    
    .calendar-day .photo-stack {
      position: absolute;
      inset: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .calendar-day .photo-thumb {
      position: absolute;
      width: 28px;
      height: 28px;
      border-radius: 4px;
      border: 1.5px solid white;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      overflow: hidden;
    }
    
    .calendar-day .photo-thumb:first-child {
      transform: rotate(-8deg) translate(-3px, 0);
      z-index: 1;
    }
    
    .calendar-day .photo-thumb:last-child {
      transform: rotate(8deg) translate(3px, 0);
      z-index: 2;
    }
    
    .calendar-day .day-number {
      position: absolute;
      bottom: 1px;
      right: 3px;
      font-size: 9px;
      background: rgba(255,255,255,0.9);
      padding: 0 3px;
      border-radius: 3px;
      z-index: 10;
    }
    
    .fade-in {
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .slide-up {
      animation: slideUp 0.4s ease;
    }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(100%); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .upload-zone {
      border: 2px dashed #c7d2fe;
      background: linear-gradient(135deg, #faf5ff 0%, #eef2ff 100%);
      transition: all 0.3s ease;
    }
    
    .upload-zone:hover {
      border-color: #6366f1;
      background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
    }
    
    .image-card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(99, 102, 241, 0.15);
      overflow: hidden;
      transition: transform 0.3s ease;
    }
    
    .image-card:hover {
      transform: translateY(-4px);
    }
    
    .scrollable {
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .scrollable::-webkit-scrollbar {
      width: 4px;
    }
    
    .scrollable::-webkit-scrollbar-thumb {
      background: #c7d2fe;
      border-radius: 4px;
    }
    
    .detail-page {
      position: absolute;
      inset: 0;
      z-index: 50;
    }
    
    .stagger-1 { animation-delay: 0.05s; }
    .stagger-2 { animation-delay: 0.1s; }
    .stagger-3 { animation-delay: 0.15s; }
    .stagger-4 { animation-delay: 0.2s; }
    .stagger-5 { animation-delay: 0.25s; }
    
    .camera-flash {
      position: absolute;
      inset: 0;
      background: white;
      opacity: 0;
      pointer-events: none;
      z-index: 100;
    }
    
    .camera-flash.flash-active {
      animation: flashEffect 0.4s ease-out;
    }
    
    @keyframes flashEffect {
      0% { opacity: 0; }
      15% { opacity: 1; }
      100% { opacity: 0; }
    }
    
    .shutter-press {
      animation: shutterPress 0.15s ease-out;
    }
    
    @keyframes shutterPress {
      0% { transform: scale(1); }
      50% { transform: scale(0.9); }
      100% { transform: scale(1); }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gray-100 flex items-center justify-center p-2">
  <div class="phone-frame bg-white rounded-[40px] shadow-2xl overflow-hidden flex flex-col relative"><!-- Status Bar -->
   <header class="h-12 bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center px-6">
    <h1 id="app-title" class="text-white font-medium text-lg">ğŸ“¸ åœ–ç‰‡æ—¥è¨˜</h1>
   </header><!-- Main Content -->
   <main class="flex-1 overflow-hidden flex flex-col bg-gradient-to-b from-indigo-50 to-white"><!-- Record Tab Content - Camera View -->
    <section id="upload-tab" class="flex-1 flex flex-col bg-black relative overflow-hidden"><!-- Camera Flash Overlay -->
     <div id="camera-flash" class="camera-flash"></div><!-- Camera Viewfinder -->
     <div class="flex-1 relative flex items-center justify-center"><!-- Fake camera preview background -->
      <div class="absolute inset-0 bg-gradient-to-b from-gray-800 to-gray-900"></div><!-- Camera frame overlay -->
      <div class="relative z-10 w-72 h-72 border-2 border-white/30 rounded-2xl flex items-center justify-center"><!-- Corner marks -->
       <div class="absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white rounded-tl-xl"></div>
       <div class="absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white rounded-tr-xl"></div>
       <div class="absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white rounded-bl-xl"></div>
       <div class="absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white rounded-br-xl"></div><!-- Center focus indicator -->
       <div class="w-16 h-16 border-2 border-yellow-400 rounded-lg animate-pulse"></div>
      </div><!-- Top info bar -->
      <div class="absolute top-4 left-0 right-0 flex justify-between items-center px-4">
       <div class="bg-black/50 px-3 py-1 rounded-full"><span class="text-white text-xs">ğŸ“… ä»Šå¤©</span>
       </div>
       <div class="bg-black/50 px-3 py-1 rounded-full"><span class="text-yellow-400 text-xs">â— REC</span>
       </div>
      </div>
     </div><!-- Camera Controls -->
     <div class="bg-black/80 backdrop-blur-sm py-6 px-4"><!-- Mode selector -->
      <div class="flex justify-center gap-6 mb-6"><span class="text-gray-500 text-sm">å½±ç‰‡</span> <span class="text-white text-sm font-bold">ç…§ç‰‡</span> <span class="text-gray-500 text-sm">é€£æ‹</span>
      </div><!-- Shutter and controls -->
      <div class="flex items-center justify-center gap-8"><!-- Gallery preview -->
       <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-400 to-purple-500 border-2 border-white/30 overflow-hidden">
        <svg viewbox="0 0 48 48" class="w-full h-full p-2"><circle cx="24" cy="20" r="8" fill="white" opacity="0.8" /> <path d="M10 38 Q24 28 38 38" fill="white" opacity="0.6" />
        </svg>
       </div><!-- Shutter button --> <button id="shutter-btn" class="w-20 h-20 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center hover:scale-95 active:scale-90 transition-transform">
        <div class="w-16 h-16 rounded-full bg-white border-2 border-gray-200"></div></button> <!-- Flip camera --> <button class="w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg></button>
      </div><!-- Demo hint -->
      <div class="mt-4 text-center">
       <p class="text-gray-400 text-xs">ğŸ“Œ ç¤ºç¯„æ¨¡å¼ - é»æ“Šä¸‹æ–¹ã€Œå›æ†¶ã€æŸ¥çœ‹ç…§ç‰‡</p>
      </div>
     </div>
    </section><!-- Calendar Tab Content -->
    <section id="calendar-tab" class="flex-1 flex flex-col p-4 scrollable hidden"><!-- Calendar Header -->
     <div class="flex items-center justify-between mb-4"><button id="prev-month" class="w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center hover:bg-indigo-200 transition">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg></button>
      <h2 id="current-month" class="text-xl font-bold text-gray-800"></h2><button id="next-month" class="w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center hover:bg-indigo-200 transition">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg></button>
     </div><!-- Weekday Headers -->
     <div class="grid grid-cols-7 gap-1 mb-2">
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       æ—¥
      </div>
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       ä¸€
      </div>
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       äºŒ
      </div>
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       ä¸‰
      </div>
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       å››
      </div>
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       äº”
      </div>
      <div class="text-center text-sm font-medium text-gray-500 py-2">
       å…­
      </div>
     </div><!-- Calendar Grid -->
     <div id="calendar-grid" class="grid grid-cols-7 gap-1 mb-4"></div><!-- Hint -->
     <div class="mt-auto p-3 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl text-center">
      <p class="text-purple-600 text-sm">ğŸ’œ é»æ“Šä»»æ„æ—¥æœŸå›é¡§ç¾å¥½æ™‚å…‰</p>
     </div>
    </section>
   </main><!-- Bottom Navigation -->
   <nav class="h-20 bg-white border-t border-gray-100 flex"><button id="nav-upload" class="flex-1 flex flex-col items-center justify-center tab-active transition">
     <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
     </svg><span class="text-xs font-medium">ç´€éŒ„</span> </button> <button id="nav-calendar" class="flex-1 flex flex-col items-center justify-center text-gray-400 transition">
     <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
     </svg><span class="text-xs font-medium">å›æ†¶</span> </button>
   </nav><!-- Detail Page (Hidden by default) -->
   <div id="detail-page" class="detail-page hidden">
    <div class="h-full bg-gradient-to-b from-indigo-100 to-white flex flex-col slide-up"><!-- Detail Header -->
     <header class="h-14 bg-white/80 backdrop-blur-sm flex items-center px-4 border-b border-indigo-100"><button id="back-btn" class="w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center hover:bg-indigo-200 transition">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg></button>
      <h2 id="detail-title" class="flex-1 text-center font-bold text-gray-800 pr-10"></h2>
     </header><!-- Detail Content -->
     <div id="detail-content" class="flex-1 p-4 scrollable"><!-- Images will be inserted here -->
     </div>
    </div>
   </div>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      app_title: 'ğŸ“¸ åœ–ç‰‡æ—¥è¨˜'
    };

    // Sample images data using SVG patterns
    const sampleImages = [
      {
        svg: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="sky1" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#87CEEB"/>
              <stop offset="100%" style="stop-color:#E0F4FF"/>
            </linearGradient>
          </defs>
          <rect fill="url(#sky1)" width="200" height="200"/>
          <circle cx="160" cy="40" r="25" fill="#FFD93D"/>
          <ellipse cx="100" cy="180" rx="90" ry="30" fill="#90EE90"/>
          <path d="M60 180 L80 120 L100 180 Z" fill="#228B22"/>
          <path d="M100 180 L130 100 L160 180 Z" fill="#2E8B57"/>
          <circle cx="40" cy="60" r="20" fill="white" opacity="0.8"/>
          <circle cx="55" cy="55" r="15" fill="white" opacity="0.8"/>
          <circle cx="70" cy="62" r="18" fill="white" opacity="0.8"/>
        </svg>`,
        text: 'ä»Šå¤©å¤©æ°£è¶…å¥½ï¼å»å…¬åœ’æ•£æ­¥äº† ğŸŒ³',
        time: '09:32'
      },
      {
        svg: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <rect fill="#FFF8E7" width="200" height="200"/>
          <ellipse cx="100" cy="130" rx="70" ry="50" fill="#D2691E"/>
          <ellipse cx="100" cy="120" rx="60" ry="40" fill="#8B4513"/>
          <circle cx="70" cy="110" r="8" fill="#FF6347"/>
          <circle cx="100" cy="100" r="10" fill="#FF6347"/>
          <circle cx="130" cy="115" r="7" fill="#FF6347"/>
          <circle cx="85" cy="125" r="6" fill="#228B22"/>
          <circle cx="115" cy="105" r="5" fill="#228B22"/>
          <path d="M60 80 Q100 60 140 80" stroke="#8B4513" stroke-width="3" fill="none"/>
          <ellipse cx="100" cy="170" rx="80" ry="10" fill="#DDD" opacity="0.5"/>
        </svg>`,
        text: 'åˆé¤åƒäº†è¶…å¥½åƒçš„ç¾©å¤§åˆ©éºµ ğŸ',
        time: '12:45'
      },
      {
        svg: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="sunset" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#FF7F50"/>
              <stop offset="50%" style="stop-color:#FFB347"/>
              <stop offset="100%" style="stop-color:#87CEEB"/>
            </linearGradient>
          </defs>
          <rect fill="url(#sunset)" width="200" height="200"/>
          <circle cx="100" cy="140" r="40" fill="#FF4500" opacity="0.8"/>
          <rect x="0" y="150" width="200" height="50" fill="#1a1a2e"/>
          <rect x="30" y="120" width="25" height="80" fill="#2d2d44"/>
          <rect x="35" y="130" width="7" height="10" fill="#FFD700"/>
          <rect x="48" y="130" width="7" height="10" fill="#FFD700"/>
          <rect x="140" y="100" width="35" height="100" fill="#2d2d44"/>
          <rect x="145" y="110" width="8" height="12" fill="#FFD700"/>
          <rect x="160" y="110" width="8" height="12" fill="#FFD700"/>
          <rect x="145" y="130" width="8" height="12" fill="#FFD700"/>
        </svg>`,
        text: 'å‚æ™šçš„å¤•é™½çœŸçš„å¤ªç¾äº† ğŸŒ…',
        time: '17:58'
      },
      {
        svg: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <rect fill="#2C3E50" width="200" height="200"/>
          <rect x="20" y="60" width="160" height="100" rx="10" fill="#34495E"/>
          <rect x="30" y="70" width="140" height="80" fill="#1ABC9C"/>
          <text x="100" y="120" text-anchor="middle" fill="white" font-size="14" font-family="sans-serif">Hello World!</text>
          <rect x="70" y="165" width="60" height="5" rx="2" fill="#7F8C8D"/>
          <circle cx="50" cy="40" r="15" fill="#E74C3C"/>
          <circle cx="80" cy="40" r="15" fill="#F39C12"/>
          <circle cx="110" cy="40" r="15" fill="#2ECC71"/>
        </svg>`,
        text: 'å­¸äº†æ–°çš„ç¨‹å¼æŠ€å·§ï¿½ï¿½æˆå°±æ„Ÿæ»¿æ»¿ ğŸ’»',
        time: '20:15'
      },
      {
        svg: `<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="night" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#0f0c29"/>
              <stop offset="50%" style="stop-color:#302b63"/>
              <stop offset="100%" style="stop-color:#24243e"/>
            </linearGradient>
          </defs>
          <rect fill="url(#night)" width="200" height="200"/>
          <circle cx="150" cy="50" r="25" fill="#F5F5DC"/>
          <circle cx="140" cy="45" r="20" fill="#302b63"/>
          <circle cx="30" cy="30" r="1" fill="white"/>
          <circle cx="70" cy="50" r="1.5" fill="white"/>
          <circle cx="50" cy="80" r="1" fill="white"/>
          <circle cx="120" cy="90" r="1" fill="white"/>
          <circle cx="180" cy="100" r="1.5" fill="white"/>
          <circle cx="20" cy="120" r="1" fill="white"/>
          <circle cx="90" cy="140" r="1" fill="white"/>
          <circle cx="160" cy="150" r="1.5" fill="white"/>
          <path d="M0 170 Q50 150 100 170 Q150 190 200 170 L200 200 L0 200 Z" fill="#1a1a2e"/>
        </svg>`,
        text: 'æ™šå®‰ï¼Œä»Šå¤©æ˜¯å……å¯¦çš„ä¸€å¤© ğŸŒ™',
        time: '23:30'
      }
    ];

    // State
    let currentDate = new Date();

    // DOM Elements
    const appTitle = document.getElementById('app-title');
    const uploadTab = document.getElementById('upload-tab');
    const calendarTab = document.getElementById('calendar-tab');
    const navUpload = document.getElementById('nav-upload');
    const navCalendar = document.getElementById('nav-calendar');
    const calendarGrid = document.getElementById('calendar-grid');
    const currentMonthEl = document.getElementById('current-month');
    const prevMonthBtn = document.getElementById('prev-month');
    const nextMonthBtn = document.getElementById('next-month');
    const detailPage = document.getElementById('detail-page');
    const detailTitle = document.getElementById('detail-title');
    const detailContent = document.getElementById('detail-content');
    const backBtn = document.getElementById('back-btn');

    // Set today's date as default
    const today = new Date();

    // Tab Navigation
    navUpload.addEventListener('click', () => {
      uploadTab.classList.remove('hidden');
      calendarTab.classList.add('hidden');
      navUpload.classList.add('tab-active');
      navUpload.classList.remove('text-gray-400');
      navCalendar.classList.remove('tab-active');
      navCalendar.classList.add('text-gray-400');
    });

    navCalendar.addEventListener('click', function() {
      uploadTab.classList.add('hidden');
      calendarTab.classList.remove('hidden');
      navCalendar.classList.add('tab-active');
      navCalendar.classList.remove('text-gray-400');
      navUpload.classList.remove('tab-active');
      navUpload.classList.add('text-gray-400');
      renderCalendar();
    });

    // Calendar Functions
    function renderCalendar() {
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      
      currentMonthEl.textContent = `${year} å¹´ ${month + 1} æœˆ`;
      
      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      
      calendarGrid.innerHTML = '';
      
      // Empty cells for days before the first day
      for (let i = 0; i < firstDay; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.className = 'h-11';
        calendarGrid.appendChild(emptyCell);
      }
      
      // Mini SVG thumbnails for calendar
      const thumbSvgs = [
        `<svg viewBox="0 0 40 40"><defs><linearGradient id="ts1" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#87CEEB"/><stop offset="100%" style="stop-color:#90EE90"/></linearGradient></defs><rect fill="url(#ts1)" width="40" height="40"/><circle cx="30" cy="10" r="6" fill="#FFD93D"/><path d="M10 35 L15 20 L20 35 Z" fill="#228B22"/></svg>`,
        `<svg viewBox="0 0 40 40"><rect fill="#FFF8E7" width="40" height="40"/><ellipse cx="20" cy="25" rx="14" ry="10" fill="#D2691E"/><circle cx="15" cy="22" r="3" fill="#FF6347"/><circle cx="25" cy="24" r="2" fill="#228B22"/></svg>`,
        `<svg viewBox="0 0 40 40"><defs><linearGradient id="ts2" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#FF7F50"/><stop offset="100%" style="stop-color:#87CEEB"/></linearGradient></defs><rect fill="url(#ts2)" width="40" height="40"/><circle cx="20" cy="28" r="8" fill="#FF4500" opacity="0.8"/><rect x="0" y="30" width="40" height="10" fill="#1a1a2e"/></svg>`,
        `<svg viewBox="0 0 40 40"><rect fill="#2C3E50" width="40" height="40"/><rect x="5" y="12" width="30" height="18" rx="2" fill="#1ABC9C"/><circle cx="10" cy="8" r="3" fill="#E74C3C"/><circle cx="18" cy="8" r="3" fill="#F39C12"/></svg>`,
        `<svg viewBox="0 0 40 40"><defs><linearGradient id="ts3" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#0f0c29"/><stop offset="100%" style="stop-color:#302b63"/></linearGradient></defs><rect fill="url(#ts3)" width="40" height="40"/><circle cx="30" cy="10" r="6" fill="#F5F5DC"/><circle cx="27" cy="8" r="4" fill="#302b63"/><circle cx="8" cy="15" r="1" fill="white"/><circle cx="15" cy="25" r="1" fill="white"/></svg>`
      ];
      
      // Days of the month
      for (let day = 1; day <= daysInMonth; day++) {
        const dayCell = document.createElement('button');
        dayCell.className = 'calendar-day h-11 rounded-xl flex items-center justify-center text-sm font-medium has-entry';
        
        // Add stacked photo thumbnails
        const thumb1Index = (day * 2) % thumbSvgs.length;
        const thumb2Index = (day * 3 + 1) % thumbSvgs.length;
        
        dayCell.innerHTML = `
          <div class="photo-stack">
            <div class="photo-thumb">${thumbSvgs[thumb1Index]}</div>
            <div class="photo-thumb">${thumbSvgs[thumb2Index]}</div>
          </div>
          <span class="day-number">${day}</span>
        `;
        
        dayCell.addEventListener('click', () => openDetailPage(year, month + 1, day));
        calendarGrid.appendChild(dayCell);
      }
    }

    function openDetailPage(year, month, day) {
      detailTitle.textContent = `${year} å¹´ ${month} æœˆ ${day} æ—¥`;
      
      // Generate content with sample images
      detailContent.innerHTML = '';
      
      sampleImages.forEach((img, index) => {
        const card = document.createElement('div');
        card.className = `image-card mb-4 fade-in stagger-${index + 1}`;
        card.style.opacity = '0';
        card.style.animation = `fadeIn 0.4s ease forwards`;
        card.style.animationDelay = `${index * 0.1}s`;
        
        card.innerHTML = `
          <div class="aspect-video bg-gray-100 flex items-center justify-center">
            ${img.svg}
          </div>
          <div class="p-4">
            <p class="text-gray-700">${img.text}</p>
            <p class="text-xs text-gray-400 mt-2">ğŸ“· ${img.time}</p>
          </div>
        `;
        
        detailContent.appendChild(card);
      });
      
      detailPage.classList.remove('hidden');
    }

    backBtn.addEventListener('click', () => {
      detailPage.classList.add('hidden');
    });

    // Shutter button - flash effect
    const shutterBtn = document.getElementById('shutter-btn');
    const cameraFlash = document.getElementById('camera-flash');
    
    shutterBtn.addEventListener('click', () => {
      // Add shutter press animation
      shutterBtn.classList.add('shutter-press');
      
      // Trigger flash effect
      cameraFlash.classList.add('flash-active');
      
      // Remove classes after animation completes
      setTimeout(() => {
        shutterBtn.classList.remove('shutter-press');
        cameraFlash.classList.remove('flash-active');
      }, 400);
    });

    prevMonthBtn.addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar();
    });

    nextMonthBtn.addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar();
    });

    // Element SDK Config Change Handler
    async function onConfigChange(config) {
      const title = config.app_title || defaultConfig.app_title;
      appTitle.textContent = title;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ['app_title', config.app_title || defaultConfig.app_title]
      ]);
    }

    // Initialize SDK
    async function init() {
      if (window.elementSdk) {
        await window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      }
      renderCalendar();
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b0c5ee23677a9c2',t:'MTc2NjIwNDY3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>